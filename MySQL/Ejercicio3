CREATE TABLE CLIENTE (
    codcliente  NUMBER PRIMARY KEY,
    DNI         VARCHAR2(20) UNIQUE NOT NULL,
    Nombre      VARCHAR2(50) NOT NULL,
    Ap1         VARCHAR2(50) NOT NULL,
    Ap2         VARCHAR2(50),
    Email       VARCHAR2(100), 
    Telefono    VARCHAR2(20)  
);

CREATE TABLE MARCA (
    codmarca     NUMBER PRIMARY KEY,
    Nombre_Marca VARCHAR2(100) UNIQUE NOT NULL,
    Fabricante   VARCHAR2(100),
    Localizacion VARCHAR2(100)
);

CREATE TABLE MODELO (
    codmodelo         NUMBER PRIMARY KEY,
    Nombre_Modelo     VARCHAR2(100) UNIQUE NOT NULL,
    Fecha_Lanzamiento DATE,
    Promo_Lanzamiento VARCHAR2(500) 
);

CREATE TABLE MOVIL (
    codmovil  NUMBER PRIMARY KEY,
    Color     VARCHAR2(30),
    Capacidad VARCHAR2(50)
);

CREATE TABLE PROVEEDOR (
    codproveedor     NUMBER PRIMARY KEY,
    Nombre_Proveedor VARCHAR2(100) NOT NULL,
    Contacto         VARCHAR2(100),
    Telefono         VARCHAR2(20)
);

CREATE TABLE EMPLEADO (
    codempleado NUMBER PRIMARY KEY,
    DNI         VARCHAR2(20) UNIQUE NOT NULL,
    Nombre      VARCHAR2(50) NOT NULL,
    Ap1         VARCHAR2(50) NOT NULL,
    Ap2         VARCHAR2(50),
    Cargo       VARCHAR2(50)
);


CREATE TABLE TIENDA (
    codtienda     NUMBER PRIMARY KEY,
    Nombre_Tienda VARCHAR2(100) NOT NULL,
    Tipo_Tienda   VARCHAR2(50),
    Direccion     VARCHAR2(255) UNIQUE NOT NULL
);

CREATE TABLE FISICA (
    codfisica NUMBER PRIMARY KEY,
    Direccion VARCHAR2(255) UNIQUE NOT NULL
);

CREATE TABLE ONLINES (
    codonline NUMBER PRIMARY KEY,
    Web       VARCHAR2(255) UNIQUE NOT NULL
);


CREATE TABLE PRECIO (
    codprecio    NUMBER PRIMARY KEY,
    Fecha_Inicio DATE NOT NULL,
    Fecha_Fin    DATE,
    Monto_Precio NUMBER(10,2) NOT NULL, 
    CONSTRAINT chk_monto_positivo CHECK (Monto_Precio > 0)
);

CREATE TABLE VENTA (
    codventa    NUMBER PRIMARY KEY,
    Fecha_Venta DATE DEFAULT SYSDATE,
    codprecio   NUMBER,
    Tipo_Venta  VARCHAR2(50),
    CONSTRAINT fk_precio_venta FOREIGN KEY (codprecio) 
        REFERENCES PRECIO(codprecio)
);

DROP TABLE MARCA CASCADE CONSTRAINTS PURGE;
DROP TABLE CLIENTE CASCADE CONSTRAINTS PURGE;
DROP TABLE MODELO CASCADE CONSTRAINTS PURGE;
DROP TABLE MOVIL CASCADE CONSTRAINTS PURGE;
DROP TABLE PROVEEDOR CASCADE CONSTRAINTS PURGE;
DROP TABLE EMPLEADO CASCADE CONSTRAINTS PURGE;
DROP TABLE TIENDA CASCADE CONSTRAINTS PURGE;
DROP TABLE FISICA CASCADE CONSTRAINTS PURGE;
DROP TABLE ONLINES CASCADE CONSTRAINTS PURGE;
DROP TABLE PRECIO CASCADE CONSTRAINTS PURGE;
DROP TABLE VENTA CASCADE CONSTRAINTS PURGE;